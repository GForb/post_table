{smcl}
{txt}{sf}{ul off}  - use "`dir'\eg_data2", clear
  = use "N:\Automating reporting\Git repository\post_table\Examples\Data and results\All option examples\eg_data2", clear
  - local results pts_eg`eg_no'
  = local results pts_eg5
  - tempname postname
  - forvalues i = 1 (1) `cols' {c -(}
  = forvalues i = 1 (1) 5 {c -(}
  - local post_cols `post_cols' col`i'
  = local post_cols  col1
  - {c )-}
  - local post_cols `post_cols' col`i'
  = local post_cols col1 col2
  - {c )-}
  - local post_cols `post_cols' col`i'
  = local post_cols col1 col2 col3
  - {c )-}
  - local post_cols `post_cols' col`i'
  = local post_cols col1 col2 col3 col4
  - {c )-}
  - local post_cols `post_cols' col`i'
  = local post_cols col1 col2 col3 col4 col5
  - {c )-}
  - qui postfile `namelist' str100(`post_cols') using "`dir'\\`results'.dta", replace
  = qui postfile __000000 str100(col1 col2 col3 col4 col5) using "N:\Automating reporting\Git repository\post_table\Examples\Data and results\All option examples\pts_eg5.dta", replace
  {hline 55} end pt_sum_intro {hline}

{com}. 
. 
. /***
> ###5 `if` and `in`
> `if` and `in` can be used in the normal way
> ***/
. 
. 
. /***/ post `postname' ("") ("N") ("Mean (sd)") ("Median (IQR)") ("Range")
{txt}
{com}. /***/ pt_sum age if age > 40 , postname(`postname') stats(N mean_sd median_iqr range)
{txt}  {hline 59} begin pt_sum {hline}
  - syntax varlist(numeric) [if] [in] , POSTname(string) stats(namelist) [ over(varname) over_grps(numlist) overall(string) order(string) gap(integer 0) gap_end(integer 0) decimal(integer 1) range_decimal(integer 1) med_iqr_decimal(integer 1) append_label(string) var_lab(string) comment(string) ]
  - if "`if'" != "" | "`in'" != "" {c -(}
  = if "if age > 40 " != "" | "" != "" {c -(}
  - preserve
  - keep `if' `in'
  = keep if age > 40  
(327 observations deleted)
  - {c )-}
  - if "`over'" != "" {c -(}
  = if "" != "" {c -(}
    if "`over_grps'" == "" levelsof `over', local(over_grps)
    if "`overall'" == "first" local over_grps overall `over_grps'
    if "`overall'" == "last" local over_grps `over_grps' overall
    {c )-}
  - if "`over'" == "" local over_grps overall
  = if "" == "" local over_grps overall
  - if "`order'" == "" local order group_over
  = if "" == "" local order group_over
  - local stats_list "N", "missing", "mean_sd", "median_iqr", "range"
  - foreach s in `stats' {c -(}
  = foreach s in N mean_sd median_iqr range {c -(}
  - if inlist("`s'", "`stats_list'") ==0 {c -(}
  = if inlist("N", "N", "missing", "mean_sd", "median_iqr", "range") ==0 {c -(}
    di "stats option incorrectly specified. stats must be one of: `stats_list'"
    exit
    {c )-}
  - {c )-}
  - if inlist("`s'", "`stats_list'") ==0 {c -(}
  = if inlist("mean_sd", "N", "missing", "mean_sd", "median_iqr", "range") ==0 {c -(}
    di "stats option incorrectly specified. stats must be one of: `stats_list'"
    exit
    {c )-}
  - {c )-}
  - if inlist("`s'", "`stats_list'") ==0 {c -(}
  = if inlist("median_iqr", "N", "missing", "mean_sd", "median_iqr", "range") ==0 {c -(}
    di "stats option incorrectly specified. stats must be one of: `stats_list'"
    exit
    {c )-}
  - {c )-}
  - if inlist("`s'", "`stats_list'") ==0 {c -(}
  = if inlist("range", "N", "missing", "mean_sd", "median_iqr", "range") ==0 {c -(}
    di "stats option incorrectly specified. stats must be one of: `stats_list'"
    exit
    {c )-}
  - {c )-}
  - if `range_decimal' ==1 local range_decimal = `decimal'
  = if 1 ==1 local range_decimal = 1
  - if `med_iqr_decimal' ==1 local med_iqr_decimal = `decimal'
  = if 1 ==1 local med_iqr_decimal = 1
  - foreach v in `varlist' {c -(}
  = foreach v in age {c -(}
  - local var_label `var_lab'
  = local var_label 
  - if "`var_lab'" == "" local var_label:variable label `v'
  = if "" == "" local var_label:variable label age
  - local var_label `var_label' `append_label'
  = local var_label Age 
  - local var_label ("`var_label'")
  = local var_label ("Age")
  - di _newline(3) "****** `v' ******" _newline(1)
  = di _newline(3) "****** age ******" _newline(1)



****** age ******

  - foreach i in `over_grps' {c -(}
  = foreach i in overall {c -(}
  - di "Group  `i'"
  = di "Group  overall"
Group  overall
  - if "`i'" == "overall" su `v', detail
  = if "overall" == "overall" su age, detail

                             Age
{hline 61}
      Percentiles      Smallest
 1%    {res} 40.14511       40.05585
{txt} 5%    {res} 40.89933       40.06425
{txt}10%    {res} 42.07242       40.08278       {txt}Obs         {res}        673
{txt}25%    {res} 44.48105       40.09959       {txt}Sum of Wgt. {res}        673

{txt}50%    {res}  49.1074                      {txt}Mean          {res} 50.17432
                        {txt}Largest       Std. Dev.     {res} 7.034779
{txt}75%    {res} 54.42161       70.68008
{txt}90%    {res} 60.36003       70.92197       {txt}Variance      {res} 49.48812
{txt}95%    {res} 63.30847       77.65178       {txt}Skewness      {res} .8155907
{txt}99%    {res} 69.71539       79.98365       {txt}Kurtosis      {res} 3.407804
  {txt}- if "`i'" != "overall" su `v' if `over' == `i', detail
  = if "overall" != "overall" su age if  == overall, detail
  - local N_`i' = r(N)
  = local N_overall = r(N)
  - foreach s in mean sd {c -(}
  - local `s'_`i' = string(r(`s'), "%12.`decimal'f")
  = local mean_overall = string(r(mean), "%12.1f")
  - {c )-}
  - local `s'_`i' = string(r(`s'), "%12.`decimal'f")
  = local sd_overall = string(r(sd), "%12.1f")
  - {c )-}
  - foreach s in p50 p25 p75 {c -(}
  - local `s'_`i' = string(r(`s'), "%12.`med_iqr_decimal'f")
  = local p50_overall = string(r(p50), "%12.1f")
  - {c )-}
  - local `s'_`i' = string(r(`s'), "%12.`med_iqr_decimal'f")
  = local p25_overall = string(r(p25), "%12.1f")
  - {c )-}
  - local `s'_`i' = string(r(`s'), "%12.`med_iqr_decimal'f")
  = local p75_overall = string(r(p75), "%12.1f")
  - {c )-}
  - foreach s in min max{c -(}
  - local `s'_`i' = string(r(`s'), "%12.`range_decimal'f")
  = local min_overall = string(r(min), "%12.1f")
  - {c )-}
  - local `s'_`i' = string(r(`s'), "%12.`range_decimal'f")
  = local max_overall = string(r(max), "%12.1f")
  - {c )-}
  - local mean_sd_`i' `mean_`i'' (`sd_`i'')
  = local mean_sd_overall 50.2 (7.0)
  - local median_iqr_`i' `p50_`i'' (`p25_`i''-`p75_`i'')
  = local median_iqr_overall 49.1 (44.5-54.4)
  - local range_`i' `min_`i'' - `max_`i''
  = local range_overall 40.1 - 80.0
  - if "`i'" == "overall" qui count if missing(`v') ==.
  = if "overall" == "overall" qui count if missing(age) ==.
  - if "`i'" != "overall" qui count if missing(`v') ==. & `over' == `i'
  = if "overall" != "overall" qui count if missing(age) ==. &  == overall
  - local missing_`i' = r(N)
  = local missing_overall = r(N)
  - {c )-}
  - if "`order'" == "group_sum" {c -(}
  = if "group_over" == "group_sum" {c -(}
    local summaries ""
    foreach s in `stats' {c -(}
    foreach i in `over_grps' {c -(}
    local summaries `summaries' ("``s'_`i''")
    {c )-}
    {c )-}
    {c )-}
  - if "`order'" == "group_over" {c -(}
  = if "group_over" == "group_over" {c -(}
  - local summaries ""
  - foreach i in `over_grps' {c -(}
  = foreach i in overall {c -(}
  - foreach s in `stats' {c -(}
  = foreach s in N mean_sd median_iqr range {c -(}
  - local summaries `summaries' ("``s'_`i''")
  = local summaries  ("673")
  - {c )-}
  - local summaries `summaries' ("``s'_`i''")
  = local summaries ("673") ("50.2 (7.0)")
  - {c )-}
  - local summaries `summaries' ("``s'_`i''")
  = local summaries ("673") ("50.2 (7.0)") ("49.1 (44.5-54.4)")
  - {c )-}
  - local summaries `summaries' ("``s'_`i''")
  = local summaries ("673") ("50.2 (7.0)") ("49.1 (44.5-54.4)") ("40.1 - 80.0")
  - {c )-}
  - {c )-}
  - {c )-}
  - if "`comment'" != "" & "`comment'" != "no comment" local comment1 ("`comment'")
  = if "" != "" & "" != "no comment" local comment1 ("")
  - if "`comment'" == "no comment" local comment1 ("")
  = if "" == "no comment" local comment1 ("")
  - post `postname' `var_label' `summaries' `comment1'
  = post __000000 ("Age") ("673") ("50.2 (7.0)") ("49.1 (44.5-54.4)") ("40.1 - 80.0") 
  - local summaries ""
  - foreach i in `over_grps' {c -(}
  = foreach i in overall {c -(}
  - foreach s in `stats' {c -(}
  = foreach s in N mean_sd median_iqr range {c -(}
  - local summaries `summaries' ("")
  = local summaries  ("")
  - if "`comment'" != "" local comment1 ("")
  = if "" != "" local comment1 ("")
  - {c )-}
  - local summaries `summaries' ("")
  = local summaries ("") ("")
  - if "`comment'" != "" local comment1 ("")
  = if "" != "" local comment1 ("")
  - {c )-}
  - local summaries `summaries' ("")
  = local summaries ("") ("") ("")
  - if "`comment'" != "" local comment1 ("")
  = if "" != "" local comment1 ("")
  - {c )-}
  - local summaries `summaries' ("")
  = local summaries ("") ("") ("") ("")
  - if "`comment'" != "" local comment1 ("")
  = if "" != "" local comment1 ("")
  - {c )-}
  - if `gap' > 0 {c -(}
  = if 0 > 0 {c -(}
    forvalues i = 1 (1) `gap' {c -(}
    post `postname' ("") `summaries' `comment1'
    {c )-}
    {c )-}
  - {c )-}
  - {c )-}
  - if `gap_end' > 0 {c -(}
  = if 0 > 0 {c -(}
    forvalues i = 1 (1) `gap_end' {c -(}
    post `postname' ("") `summaries' `comment1'
    {c )-}
    {c )-}
  - if "`if'" != "" | "`in'" != "" restore
  = if "if age > 40 " != "" | "" != "" restore
  {hline 61} end pt_sum {hline}

{com}. /***/ pt_sum  bmi if bmi in 1/10  , postname(`postname') stats(N mean_sd median_iqr range)
{txt}  {hline 59} begin pt_sum {hline}
  - syntax varlist(numeric) [if] [in] , POSTname(string) stats(namelist) [ over(varname) over_grps(numlist) overall(string) order(string) gap(integer 0) gap_end(integer 0) decimal(integer 1) range_decimal(integer 1) med_iqr_decimal(integer 1) append_label(string) var_lab(string) comment(string) ]
  - if "`if'" != "" | "`in'" != "" {c -(}
  = if "if bmi " != "" | "in 1/10" != "" {c -(}
  - preserve
  - keep `if' `in'
  = keep if bmi  in 1/10
(990 observations deleted)
  - {c )-}
  - if "`over'" != "" {c -(}
  = if "" != "" {c -(}
    if "`over_grps'" == "" levelsof `over', local(over_grps)
    if "`overall'" == "first" local over_grps overall `over_grps'
    if "`overall'" == "last" local over_grps `over_grps' overall
    {c )-}
  - if "`over'" == "" local over_grps overall
  = if "" == "" local over_grps overall
  - if "`order'" == "" local order group_over
  = if "" == "" local order group_over
  - local stats_list "N", "missing", "mean_sd", "median_iqr", "range"
  - foreach s in `stats' {c -(}
  = foreach s in N mean_sd median_iqr range {c -(}
  - if inlist("`s'", "`stats_list'") ==0 {c -(}
  = if inlist("N", "N", "missing", "mean_sd", "median_iqr", "range") ==0 {c -(}
    di "stats option incorrectly specified. stats must be one of: `stats_list'"
    exit
    {c )-}
  - {c )-}
  - if inlist("`s'", "`stats_list'") ==0 {c -(}
  = if inlist("mean_sd", "N", "missing", "mean_sd", "median_iqr", "range") ==0 {c -(}
    di "stats option incorrectly specified. stats must be one of: `stats_list'"
    exit
    {c )-}
  - {c )-}
  - if inlist("`s'", "`stats_list'") ==0 {c -(}
  = if inlist("median_iqr", "N", "missing", "mean_sd", "median_iqr", "range") ==0 {c -(}
    di "stats option incorrectly specified. stats must be one of: `stats_list'"
    exit
    {c )-}
  - {c )-}
  - if inlist("`s'", "`stats_list'") ==0 {c -(}
  = if inlist("range", "N", "missing", "mean_sd", "median_iqr", "range") ==0 {c -(}
    di "stats option incorrectly specified. stats must be one of: `stats_list'"
    exit
    {c )-}
  - {c )-}
  - if `range_decimal' ==1 local range_decimal = `decimal'
  = if 1 ==1 local range_decimal = 1
  - if `med_iqr_decimal' ==1 local med_iqr_decimal = `decimal'
  = if 1 ==1 local med_iqr_decimal = 1
  - foreach v in `varlist' {c -(}
  = foreach v in bmi {c -(}
  - local var_label `var_lab'
  = local var_label 
  - if "`var_lab'" == "" local var_label:variable label `v'
  = if "" == "" local var_label:variable label bmi
  - local var_label `var_label' `append_label'
  = local var_label BMI 
  - local var_label ("`var_label'")
  = local var_label ("BMI")
  - di _newline(3) "****** `v' ******" _newline(1)
  = di _newline(3) "****** bmi ******" _newline(1)



****** bmi ******

  - foreach i in `over_grps' {c -(}
  = foreach i in overall {c -(}
  - di "Group  `i'"
  = di "Group  overall"
Group  overall
  - if "`i'" == "overall" su `v', detail
  = if "overall" == "overall" su bmi, detail

                             BMI
{hline 61}
      Percentiles      Smallest
 1%    {res} 23.63594       23.63594
{txt} 5%    {res} 23.63594       24.26961
{txt}10%    {res} 23.95277       24.41769       {txt}Obs         {res}         10
{txt}25%    {res} 24.41769        24.9003       {txt}Sum of Wgt. {res}         10

{txt}50%    {res} 25.72928                      {txt}Mean          {res} 25.58971
                        {txt}Largest       Std. Dev.     {res} 1.306271
{txt}75%    {res} 26.36149       26.19947
{txt}90%    {res} 27.32702       26.36149       {txt}Variance      {res} 1.706344
{txt}95%    {res} 27.99526       26.65877       {txt}Skewness      {res} .2176963
{txt}99%    {res} 27.99526       27.99526       {txt}Kurtosis      {res} 2.332437
  {txt}- if "`i'" != "overall" su `v' if `over' == `i', detail
  = if "overall" != "overall" su bmi if  == overall, detail
  - local N_`i' = r(N)
  = local N_overall = r(N)
  - foreach s in mean sd {c -(}
  - local `s'_`i' = string(r(`s'), "%12.`decimal'f")
  = local mean_overall = string(r(mean), "%12.1f")
  - {c )-}
  - local `s'_`i' = string(r(`s'), "%12.`decimal'f")
  = local sd_overall = string(r(sd), "%12.1f")
  - {c )-}
  - foreach s in p50 p25 p75 {c -(}
  - local `s'_`i' = string(r(`s'), "%12.`med_iqr_decimal'f")
  = local p50_overall = string(r(p50), "%12.1f")
  - {c )-}
  - local `s'_`i' = string(r(`s'), "%12.`med_iqr_decimal'f")
  = local p25_overall = string(r(p25), "%12.1f")
  - {c )-}
  - local `s'_`i' = string(r(`s'), "%12.`med_iqr_decimal'f")
  = local p75_overall = string(r(p75), "%12.1f")
  - {c )-}
  - foreach s in min max{c -(}
  - local `s'_`i' = string(r(`s'), "%12.`range_decimal'f")
  = local min_overall = string(r(min), "%12.1f")
  - {c )-}
  - local `s'_`i' = string(r(`s'), "%12.`range_decimal'f")
  = local max_overall = string(r(max), "%12.1f")
  - {c )-}
  - local mean_sd_`i' `mean_`i'' (`sd_`i'')
  = local mean_sd_overall 25.6 (1.3)
  - local median_iqr_`i' `p50_`i'' (`p25_`i''-`p75_`i'')
  = local median_iqr_overall 25.7 (24.4-26.4)
  - local range_`i' `min_`i'' - `max_`i''
  = local range_overall 23.6 - 28.0
  - if "`i'" == "overall" qui count if missing(`v') ==.
  = if "overall" == "overall" qui count if missing(bmi) ==.
  - if "`i'" != "overall" qui count if missing(`v') ==. & `over' == `i'
  = if "overall" != "overall" qui count if missing(bmi) ==. &  == overall
  - local missing_`i' = r(N)
  = local missing_overall = r(N)
  - {c )-}
  - if "`order'" == "group_sum" {c -(}
  = if "group_over" == "group_sum" {c -(}
    local summaries ""
    foreach s in `stats' {c -(}
    foreach i in `over_grps' {c -(}
    local summaries `summaries' ("``s'_`i''")
    {c )-}
    {c )-}
    {c )-}
  - if "`order'" == "group_over" {c -(}
  = if "group_over" == "group_over" {c -(}
  - local summaries ""
  - foreach i in `over_grps' {c -(}
  = foreach i in overall {c -(}
  - foreach s in `stats' {c -(}
  = foreach s in N mean_sd median_iqr range {c -(}
  - local summaries `summaries' ("``s'_`i''")
  = local summaries  ("10")
  - {c )-}
  - local summaries `summaries' ("``s'_`i''")
  = local summaries ("10") ("25.6 (1.3)")
  - {c )-}
  - local summaries `summaries' ("``s'_`i''")
  = local summaries ("10") ("25.6 (1.3)") ("25.7 (24.4-26.4)")
  - {c )-}
  - local summaries `summaries' ("``s'_`i''")
  = local summaries ("10") ("25.6 (1.3)") ("25.7 (24.4-26.4)") ("23.6 - 28.0")
  - {c )-}
  - {c )-}
  - {c )-}
  - if "`comment'" != "" & "`comment'" != "no comment" local comment1 ("`comment'")
  = if "" != "" & "" != "no comment" local comment1 ("")
  - if "`comment'" == "no comment" local comment1 ("")
  = if "" == "no comment" local comment1 ("")
  - post `postname' `var_label' `summaries' `comment1'
  = post __000000 ("BMI") ("10") ("25.6 (1.3)") ("25.7 (24.4-26.4)") ("23.6 - 28.0") 
  - local summaries ""
  - foreach i in `over_grps' {c -(}
  = foreach i in overall {c -(}
  - foreach s in `stats' {c -(}
  = foreach s in N mean_sd median_iqr range {c -(}
  - local summaries `summaries' ("")
  = local summaries  ("")
  - if "`comment'" != "" local comment1 ("")
  = if "" != "" local comment1 ("")
  - {c )-}
  - local summaries `summaries' ("")
  = local summaries ("") ("")
  - if "`comment'" != "" local comment1 ("")
  = if "" != "" local comment1 ("")
  - {c )-}
  - local summaries `summaries' ("")
  = local summaries ("") ("") ("")
  - if "`comment'" != "" local comment1 ("")
  = if "" != "" local comment1 ("")
  - {c )-}
  - local summaries `summaries' ("")
  = local summaries ("") ("") ("") ("")
  - if "`comment'" != "" local comment1 ("")
  = if "" != "" local comment1 ("")
  - {c )-}
  - if `gap' > 0 {c -(}
  = if 0 > 0 {c -(}
    forvalues i = 1 (1) `gap' {c -(}
    post `postname' ("") `summaries' `comment1'
    {c )-}
    {c )-}
  - {c )-}
  - {c )-}
  - if `gap_end' > 0 {c -(}
  = if 0 > 0 {c -(}
    forvalues i = 1 (1) `gap_end' {c -(}
    post `postname' ("") `summaries' `comment1'
    {c )-}
    {c )-}
  - if "`if'" != "" | "`in'" != "" restore
  = if "if bmi " != "" | "in 1/10" != "" restore
  {hline 61} end pt_sum {hline}

{com}. /***/ pt_sum  qol in 1/10 if qol > 50 , postname(`postname') stats(N mean_sd median_iqr range)  
{txt}  {hline 59} begin pt_sum {hline}
  - syntax varlist(numeric) [if] [in] , POSTname(string) stats(namelist) [ over(varname) over_grps(numlist) overall(string) order(string) gap(integer 0) gap_end(integer 0) decimal(integer 1) range_decimal(integer 1) med_iqr_decimal(integer 1) append_label(string) var_lab(string) comment(string) ]
  - if "`if'" != "" | "`in'" != "" {c -(}
  = if "if qol > 50 " != "" | "in 1/10" != "" {c -(}
  - preserve
  - keep `if' `in'
  = keep if qol > 50  in 1/10
(996 observations deleted)
  - {c )-}
  - if "`over'" != "" {c -(}
  = if "" != "" {c -(}
    if "`over_grps'" == "" levelsof `over', local(over_grps)
    if "`overall'" == "first" local over_grps overall `over_grps'
    if "`overall'" == "last" local over_grps `over_grps' overall
    {c )-}
  - if "`over'" == "" local over_grps overall
  = if "" == "" local over_grps overall
  - if "`order'" == "" local order group_over
  = if "" == "" local order group_over
  - local stats_list "N", "missing", "mean_sd", "median_iqr", "range"
  - foreach s in `stats' {c -(}
  = foreach s in N mean_sd median_iqr range {c -(}
  - if inlist("`s'", "`stats_list'") ==0 {c -(}
  = if inlist("N", "N", "missing", "mean_sd", "median_iqr", "range") ==0 {c -(}
    di "stats option incorrectly specified. stats must be one of: `stats_list'"
    exit
    {c )-}
  - {c )-}
  - if inlist("`s'", "`stats_list'") ==0 {c -(}
  = if inlist("mean_sd", "N", "missing", "mean_sd", "median_iqr", "range") ==0 {c -(}
    di "stats option incorrectly specified. stats must be one of: `stats_list'"
    exit
    {c )-}
  - {c )-}
  - if inlist("`s'", "`stats_list'") ==0 {c -(}
  = if inlist("median_iqr", "N", "missing", "mean_sd", "median_iqr", "range") ==0 {c -(}
    di "stats option incorrectly specified. stats must be one of: `stats_list'"
    exit
    {c )-}
  - {c )-}
  - if inlist("`s'", "`stats_list'") ==0 {c -(}
  = if inlist("range", "N", "missing", "mean_sd", "median_iqr", "range") ==0 {c -(}
    di "stats option incorrectly specified. stats must be one of: `stats_list'"
    exit
    {c )-}
  - {c )-}
  - if `range_decimal' ==1 local range_decimal = `decimal'
  = if 1 ==1 local range_decimal = 1
  - if `med_iqr_decimal' ==1 local med_iqr_decimal = `decimal'
  = if 1 ==1 local med_iqr_decimal = 1
  - foreach v in `varlist' {c -(}
  = foreach v in qol {c -(}
  - local var_label `var_lab'
  = local var_label 
  - if "`var_lab'" == "" local var_label:variable label `v'
  = if "" == "" local var_label:variable label qol
  - local var_label `var_label' `append_label'
  = local var_label Quality of life 
  - local var_label ("`var_label'")
  = local var_label ("Quality of life")
  - di _newline(3) "****** `v' ******" _newline(1)
  = di _newline(3) "****** qol ******" _newline(1)



****** qol ******

  - foreach i in `over_grps' {c -(}
  = foreach i in overall {c -(}
  - di "Group  `i'"
  = di "Group  overall"
Group  overall
  - if "`i'" == "overall" su `v', detail
  = if "overall" == "overall" su qol, detail

                       Quality of life
{hline 61}
      Percentiles      Smallest
 1%    {res} 51.66963       51.66963
{txt} 5%    {res} 51.66963       54.37482
{txt}10%    {res} 51.66963       56.54313       {txt}Obs         {res}          4
{txt}25%    {res} 53.02223       59.35824       {txt}Sum of Wgt. {res}          4

{txt}50%    {res} 55.45898                      {txt}Mean          {res} 55.48646
                        {txt}Largest       Std. Dev.     {res} 3.261451
{txt}75%    {res} 57.95069       51.66963
{txt}90%    {res} 59.35824       54.37482       {txt}Variance      {res} 10.63706
{txt}95%    {res} 59.35824       56.54313       {txt}Skewness      {res} .0248837
{txt}99%    {res} 59.35824       59.35824       {txt}Kurtosis      {res}  1.72726
  {txt}- if "`i'" != "overall" su `v' if `over' == `i', detail
  = if "overall" != "overall" su qol if  == overall, detail
  - local N_`i' = r(N)
  = local N_overall = r(N)
  - foreach s in mean sd {c -(}
  - local `s'_`i' = string(r(`s'), "%12.`decimal'f")
  = local mean_overall = string(r(mean), "%12.1f")
  - {c )-}
  - local `s'_`i' = string(r(`s'), "%12.`decimal'f")
  = local sd_overall = string(r(sd), "%12.1f")
  - {c )-}
  - foreach s in p50 p25 p75 {c -(}
  - local `s'_`i' = string(r(`s'), "%12.`med_iqr_decimal'f")
  = local p50_overall = string(r(p50), "%12.1f")
  - {c )-}
  - local `s'_`i' = string(r(`s'), "%12.`med_iqr_decimal'f")
  = local p25_overall = string(r(p25), "%12.1f")
  - {c )-}
  - local `s'_`i' = string(r(`s'), "%12.`med_iqr_decimal'f")
  = local p75_overall = string(r(p75), "%12.1f")
  - {c )-}
  - foreach s in min max{c -(}
  - local `s'_`i' = string(r(`s'), "%12.`range_decimal'f")
  = local min_overall = string(r(min), "%12.1f")
  - {c )-}
  - local `s'_`i' = string(r(`s'), "%12.`range_decimal'f")
  = local max_overall = string(r(max), "%12.1f")
  - {c )-}
  - local mean_sd_`i' `mean_`i'' (`sd_`i'')
  = local mean_sd_overall 55.5 (3.3)
  - local median_iqr_`i' `p50_`i'' (`p25_`i''-`p75_`i'')
  = local median_iqr_overall 55.5 (53.0-58.0)
  - local range_`i' `min_`i'' - `max_`i''
  = local range_overall 51.7 - 59.4
  - if "`i'" == "overall" qui count if missing(`v') ==.
  = if "overall" == "overall" qui count if missing(qol) ==.
  - if "`i'" != "overall" qui count if missing(`v') ==. & `over' == `i'
  = if "overall" != "overall" qui count if missing(qol) ==. &  == overall
  - local missing_`i' = r(N)
  = local missing_overall = r(N)
  - {c )-}
  - if "`order'" == "group_sum" {c -(}
  = if "group_over" == "group_sum" {c -(}
    local summaries ""
    foreach s in `stats' {c -(}
    foreach i in `over_grps' {c -(}
    local summaries `summaries' ("``s'_`i''")
    {c )-}
    {c )-}
    {c )-}
  - if "`order'" == "group_over" {c -(}
  = if "group_over" == "group_over" {c -(}
  - local summaries ""
  - foreach i in `over_grps' {c -(}
  = foreach i in overall {c -(}
  - foreach s in `stats' {c -(}
  = foreach s in N mean_sd median_iqr range {c -(}
  - local summaries `summaries' ("``s'_`i''")
  = local summaries  ("4")
  - {c )-}
  - local summaries `summaries' ("``s'_`i''")
  = local summaries ("4") ("55.5 (3.3)")
  - {c )-}
  - local summaries `summaries' ("``s'_`i''")
  = local summaries ("4") ("55.5 (3.3)") ("55.5 (53.0-58.0)")
  - {c )-}
  - local summaries `summaries' ("``s'_`i''")
  = local summaries ("4") ("55.5 (3.3)") ("55.5 (53.0-58.0)") ("51.7 - 59.4")
  - {c )-}
  - {c )-}
  - {c )-}
  - if "`comment'" != "" & "`comment'" != "no comment" local comment1 ("`comment'")
  = if "" != "" & "" != "no comment" local comment1 ("")
  - if "`comment'" == "no comment" local comment1 ("")
  = if "" == "no comment" local comment1 ("")
  - post `postname' `var_label' `summaries' `comment1'
  = post __000000 ("Quality of life") ("4") ("55.5 (3.3)") ("55.5 (53.0-58.0)") ("51.7 - 59.4") 
  - local summaries ""
  - foreach i in `over_grps' {c -(}
  = foreach i in overall {c -(}
  - foreach s in `stats' {c -(}
  = foreach s in N mean_sd median_iqr range {c -(}
  - local summaries `summaries' ("")
  = local summaries  ("")
  - if "`comment'" != "" local comment1 ("")
  = if "" != "" local comment1 ("")
  - {c )-}
  - local summaries `summaries' ("")
  = local summaries ("") ("")
  - if "`comment'" != "" local comment1 ("")
  = if "" != "" local comment1 ("")
  - {c )-}
  - local summaries `summaries' ("")
  = local summaries ("") ("") ("")
  - if "`comment'" != "" local comment1 ("")
  = if "" != "" local comment1 ("")
  - {c )-}
  - local summaries `summaries' ("")
  = local summaries ("") ("") ("") ("")
  - if "`comment'" != "" local comment1 ("")
  = if "" != "" local comment1 ("")
  - {c )-}
  - if `gap' > 0 {c -(}
  = if 0 > 0 {c -(}
    forvalues i = 1 (1) `gap' {c -(}
    post `postname' ("") `summaries' `comment1'
    {c )-}
    {c )-}
  - {c )-}
  - {c )-}
  - if `gap_end' > 0 {c -(}
  = if 0 > 0 {c -(}
    forvalues i = 1 (1) `gap_end' {c -(}
    post `postname' ("") `summaries' `comment1'
    {c )-}
    {c )-}
  - if "`if'" != "" | "`in'" != "" restore
  = if "if qol > 50 " != "" | "in 1/10" != "" restore
  {hline 61} end pt_sum {hline}

{com}. 
. 
. 
. /**/ pt_sum_close `postname', eg_no(`eg_no')
{txt}  {hline 53} begin pt_sum_close {hline}
  - local dir "N:\Automating reporting\Git repository\post_table\Examples\Data and results\All option examples"
  - syntax namelist, eg_no(numlist max=1)
  - postclose `namelist'
  = postclose __000000
  - use "`dir'\\pts_eg`eg_no'.dta", clear
  = use "N:\Automating reporting\Git repository\post_table\Examples\Data and results\All option examples\\pts_eg5.dta", clear
  - format _all %-100s
  - qui compress _all
  - qui save "N:\Automating reporting\Git repository\post_table\Testing\pt_sum\Test data\pts_eg`eg_no'.dta", replace
  = qui save "N:\Automating reporting\Git repository\post_table\Testing\pt_sum\Test data\pts_eg5.dta", replace
  - qui log close
{smcl}
{txt}{sf}{ul off}